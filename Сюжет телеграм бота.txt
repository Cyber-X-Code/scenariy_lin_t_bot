Вы очнулись в медицинской барокамере, в голове шум и ничего не помните. Вдруг неожиданно к вам подходит сотрудница мед службы, вы это поняли по халату. Она вам говорит что все нормально, не паникуйте, сейчас откроют барокамеру и вас выпустят.
Когда она открыла барокамеру и вы вылезли из нее, к вам подошел бородатый мужчина, одетый в строгий костюм. Он представился Игорем и сказал что он является начальником космической программы "Союз" в которой вы участвовали и в результате катастрофы потеряли сознание. Так же он спросил у вас что вы помните. У вас в голове было пусто, вы даже имя свое не помнили о чем и сказали Игорю. На что он ответил: 'Вас звать Дилан Хант, хорошо что вы пришли в сознание, поправляйтесь, мы еще поговорим'. После чего развернулся и ушел. 

Обернувшись вы спросили у мед сестры, что случилось и почему все такие угрюмые. На что она рассказала вкратце все что случилось. Из ее рассказа вы уяснили что сейчас 30120 год. Вы находитесь на планете Kepler-186 f в системе красного карлика созвездия Лебедь. Космическая база "Союз" обеспечивала атмосферу пригодную для жизни людей. Но по непонятной причине, космическая база перестала выходить на связь и ослаб купол опоясывающий планету и обеспечивающий отличные условия для обитания людей. С базы стартовали несколько спасательных шлюпок, но все они погибли даже не долетев до планеты. Вы единственный из экипажа спасательной шлюпки, кто все же смог приземлится, хотя ваша шлюпка была сильно повреждена. 
Мед сестра вам что-то вколола и вы отключились.

Когда вы снова пришли в себя, перед вами стоял уже знакомый вам Игорь и еще несколько человек. Игорь начал разговор и представил вам незнакомцев: 'С права от меня Джон, зам отдела реанимации, а также всего медицинского отделения на этой планете, он занимается вашим выздоровлением. С лева Ли, он глава экспедиции которая выдвинулась на освоение новых планет и колонизации. На все про все у нас не более двух - трех недель. За это время вы, Дилан, должны все вспомнить, а главное, даже если и не вспомните, все равно необходимо отправится на базу, выяснить в каком она состоянии, что с системой купола и при необходимости отремонтировать ее. А иначе, купол перестанет работать и на планете исчезнет атмосфера пригодная к жизни. А так как кроме вас, никто больше не сможет этого сделать, вся ответственность ложится на ваши плечи.'

Спустя три недели.

К вам частично вернулась память, вы отрывками что что смутно помните, но это несвязанные образы.

Настал день 'X'. К вам в палату пришел Игорь и сказал: 'Пора! Идем, Дилан!'. Вы встали и последовали за ним. По длинным коридорам вы прошли в кабинет, где получили все необходимые инструкции, а так же инструменты и обмундирование. И вот вы на маленьком космическом корабле летите к станции 'Союз'. Как только вылетели в открытый космос, то увидели станцию, она была сильно повреждена. Вы направились к ней. На ваше удивление, смогли без особых усилий зайти в ангар, который сам открылся как только ваш корабль приблизился к нему. Явно, мышечная память - прекрасный помощник, который помог вам в этом деле - управление кораблем. 

И так, вы на базе 'Союз'. Ваши приключения начинаются! 

Первым делом было решено выяснить техническое состояние базы, а для этого нужен компьютер. Везде был тусклый свет, что означало, что база работает на резервном питании. Вы без труда нашли палубу откуда производилось управление всей базой. На полу лежал справочник Линуксойда, а в углу была серверная стойка с монитором и клавиатурой. Единственное устройство, которое каким-то чудом тут работало, видимо, у него было отдельное питание. Взяв в руки справочник, вы подошли к нему. Осознав, что это сервер под управлением Unix системой, решили выяснить в какой директории сейчас находитесь. Для этого можно использовать команду: pwd (от англ. "print working directory"). Вводите команду:
pwd

На что сервер вам выдал:
/home/user/Документы

Отлично, вспомнив что у команды pwd имеются дополнительные ключи, вы решили вызвать справку набрав команду:
pwd --help


Сервер выдал справку по команде pwd:
pwd: pwd [-LP]
    Print the name of the current working directory.
    
    Options:
      -L	print the value of $PWD if it names the current working
    		directory
      -P	print the physical directory, without any symbolic links


Заглянув в справочник Линуксойда вы нашли следующую информацию касательно дополнительных ключей:
Команда 'pwd' позволяет выводить текущий рабочий каталог в Linux системах. Дополнительные ключи -L и -P используются для работы с символическими ссылками. 


Не совсем понятно что это все значит, вы решили пока отложить это и выяснить какие файлы имеются в директории Документы. Поискав информацию в справочнике, выяснили, что для вывода применяется команда: ls (от англ. "list"). Так же у команды ls имеются дополнительные ключи:

-l - Вывести содержимое с подробной информацией
-a - Вывести список файлов включая скрытые файлы
-lh - Вывести размеры файлов в удобном формате
-R - Рекурсивный вывод содержимого подкаталогов
-t - Сортировка по времени изменения
-lS - Сортировка по размеру файлов
-lr - Обратный порядок сортировки
--help - Вывод справки по команде

Итак. смотрим что имеется в директории "Документы" выполнив команду ls:


На ваше удивление, директория была пустой, но, вы решили посмотреть, может имеются скрытые файлы. Как уже выяснили выше, для этого используется команда ls с ключом -a. Вводим команду:

ls -a


Действительно, директория была пустой. Что ж, посмотрим, что имеется в домашней директории пользователя подумали вы. Что бы посмотреть что имеется в домашней директории, выводим команду ls и указываем путь до нужной директории. В нашем случае это: /home/UserName. Вводим команду:

ls /home/user


Сервер выдал множество директорий, среди которых вас заинтересовала директория с названием VideoCam:



Вы решили перейти в эту директорию, для перемещения по директориям, как выяснили из справочника Линуксойда, применяется команда cd, далее указывается путь до нужной директории. Сначала выйдем на уровень выше, то есть, выйдем из директории Документы в которой находимся, для этого после команды cd пишем две точки: cd .. 
Вводим команду:

cd ..

Как указано в справочнике, в Unix системах крайне важен регистр. То есть: Name и name это два разных имени, будь-то это название директорий или файлов. Наконец, переходим к заинтересовавшую нас директорию выполнив команду cd и, указав имя директории, в которую планируется перейти: cd VideoCam. Вводим команду:

cd VideoCam

Итак, выведем уже знакомой нам командой содержимое директории с подробной информацией, применив ключ: -l. Вводим команду:

ls -l

Странно, но и эта директория оказалась пустой, но название натолкнуло вас на идею посмотреть запущенные процессы. Что бы это сделать, можно ввести команды top или htop. Как и любая команда в Linux, команды представляют собой маленькие программы, которые поставляются с системой. Первая команда точно должна сработать, а вот вторая, может и нет, если соответствующий пакет не был установлен, подумали вы. И ввели команду top.
Среди множества запущенных процессов вы нашли знакомое название: motioneye. В памяти всплыло, что это опенсорсный проект для видео наблюдения. А файлы записи с камер хранятся по пути: /var/lib/motioneye/. Останавливаем top сочетанием клавиш: ctrl + c. и переходим в директорию выполнив уже знакомую команду:

cd /var/lib/motioneye

Смотрим содержимое директории, выполнив изученную ранее команду:

ls

В этой директории находилось множество других директорий с именами: Camera1, Camera2, Camera3 и так далее, больше сотни. И в каждой директории множество файлов. Это большой объем информации, и при всем желании скопировать для последующего изучения у вас не выйдет. Да и устройства куда все это можно было бы скопировать нет. С собой только небольшая флешка с образом Kali Linux выданная при прохождении инструктажа. Немного поразмыслив, пришли к выводу, что на данный момент необходимости в этом сервере нет, решено было его выключить. Так можно было бы сэкономить немного энергии, ведь не известно, от какого источника он питался и сколько сможет еще проработать. Что бы его выключить, нашли команду в справочнике: shutdown now. Вводим команду и выключаем сервер:

shutdown now

Далее было решено восстановить энергоснабжение базы. Для этого нужно спустится на технический этаж. Проходя по коридору вы наткнулись на каюту капитана и вошли в нее. На столе стоял ноутбук Lenovo ThinkPad x270. Первая мысль - что за древность... Открыв крышку ноутбука увидели экран блокировки на котором красовался логотип Astra Linux. Попробовав самые распространенные пароли пришли к выводу, что надо сбрасывать пароль. Полазив в справочнике Линуксойда выяснили, что пароли хранятся в файле shadow. Надо было перезагрузить ноутбук и надеяться, что диск не был зашифрован. Иначе, ничего не выйдет, а тратить впустую время не хотелось. Выключив ноутбук долгим нажатием кнопки включения вы вставили флешку, включили ноутбук и загрузились в биос, выставили приоритет загрузки с флешки, сохранили настройки биоса и загрузились с нее. Без труда смогли зайти на диск ноутбука через проводник, или, как его еще называют - менеджер файлов, это означало, что он не зашифрован. 


Полазив по диску обнаружили, что на нем нет никаких файлов кроме фотки базы. Что вас насторожило, в памяти всплыло, что можно прятать файлы в картинки. Но первоначальная задача стояла сбросить пароль, а для этого нужно отредактировать файл shadow который расположен в каталоге /etc. Зайдя в этот каталог вы нашли этот файл, затем перетащили его в терминал Kali. Теперь нужно было найти строчку где хранится в зашифрованном виде пароль. Эта строчка начинается с имени пользователя, а вы выяснили по названию домашнего каталога, что имя пользователя: user. Найдя нужную строчку, надо удалить символы между первых двух двоеточий и сохранить файл. При этом нужно быть осторожным, а лучше сделать резервную копию на всякий случай, что вы и сделали, сохранив его с другим названием. А оригинал отредактировали и сохранили. Теперь можно перезагружаться и смотреть на результат. 

фото файла


Вы без труда загрузились в Astra Linux, что означало, что пароль удачно был сброшен. Теперь нужно разобраться с найденной фоткой. Отчетливо в памяти всплыла утилита Stegosuite которая позволяет встраивать файлы в изображения и таким образом их прятать от посторонних глаз. Найдя на ноутбуке эту утилиты вы без проблем извлекли из фотки файл. Это оказался дневник капитана. Быстро ознакомившись с содержимым узнали, что планировалась встреча с важными гостями. Что это за важные гости - проскочила мысль... Эта встреча была запланирована на тот самый день когда произошла авария с базой. Разумеется, дальнейших записей в дневнике не было. 


Решено было вернутся к серверу видео наблюдения и посмотреть видео с камер. Что бы это сделать, нужны пароли доступа к веб интерфейсу сервера, у вас их не было. По этому решено было сбросить пароли с сервера, а затем подключится к нему по ssh имея полные права и скачать на ноутбук видео. Полные права дали бы возможность помимо всего прочего, спокойно управлять сервером. Вставив флешку вы загрузились с нее, перешли на диск сервера и теперь осталось только отредактировать файл shadow, убрав символы между первых двух двоеточий, как и в случае с ноутбуком. Вы спокойно отредактировали файл shadow, удалив символы между первых двух двоеточий, до: user:QXWxolkM5xdkRbci3/5o7:19688:0:99999:7:::, поле: user::19688:0:99999:7:::

Но не успев даже сохранить файл shadow и перейти к редактированию конфигурационного файла ssh, вы потеряли сознание. Когда очнулись, обнаружили, что сервер был включен и загружен из под операционной системы установленной на нем. Первым делом решили посмотреть что с видео файлами. Для этого переходим в каталог /var/lib/motioneye введя уже знакомую команду:

cd /var/lib/motioneye

Выводим содержимое директории с видео файлами. Выполнив команду, которая выводит содержимое каталогов:

ls

Нас интересует директория которая носит название Camera120. В этой директории хранятся файлы, которые в теории, должны быть последними записями с камер. Смотрим содержимое этой директории, заранее выполнив команду clear, которая очищает терминал от предыдущих команд: 

ls Camera120

Странно, но директория оказалась пустой, видимо, кто то удалил все ее содержимое и теперь не получится выяснить кто нас вырубил. И тем более, мало вероятно, что сохранились файлы с той встречи с таинственными гостями. На всякий случай вы просмотрели и другие директории. Некоторые из них были пустыми - кто то все подчистил... Ну что же, решено было все же не терять время и перейти к отладке энергоснабжения базы. Так как от этого многое зависит. Выключаем сервер выполнив уже знакомую команду:

shutdown now

Попав на технический этаж первым делом огляделись, так как ясно, что на базе есть кто-то еще. И он явно настроен агрессивно! Пройдя в глубь увидели серверную стойку с ИИ. Эта серверная стояка вам знакома, так как вы приложили к ней свою руку. Возникла дилемма, подойти к серверу с ИИ, или пройти дальше и попытаться разобраться самому с энергоснабжением базы?

	Вы подошли к реактору и стали разбираться что тут не так, неожиданно, после ваших манипуляций зазвучала тревога что реактор перегружен и осталось 3 минуты до его взрыва. Осознав, что исправить ничего не получится ввиду нехватки знаний, решили рискнуть и добраться до вашего корабля. Поспешно пробираясь по коридорам, обратный отчет закончился и база взорвалась... Как говорится: Game Over... 
	
Подойдя к серверу с ИИ было обнаружено, что он не работает, так как попросту выключен. Включив его, надо было убедится что ИИ запущен. Вы обратились к нему: Андромеда, ты меня слышишь? Но ответа не поступило, что означало что ИИ не запустился. Запустить можно двумя способами, первый - запустить службу, а второй скрипт. 

За запуск служб отвечает команда systemctl start и название службы. С помощью systemctl можно так же останавливать службы - stop и перезапускать - restart.
И так, первым делом смотрим статус службы выполнив команду systemctl status вызвав ее с правами root пользователя, то есть, взяв временно права администратора системы. А благодаря тому что пароль вы знали, с правами root пользователя проблем не возникло. Вводим команду и узнаем статус службы sudo systemctl status adnromeda:

sudo systemctl status andromeda

Сервер выдал что такой службы не существует. Вероятнее всего, что-то пошло не так и служба была удалена, а может быть кто-то удалил ее намеренно. Остается  запуск ИИ через скрипт. По всем правилам надо сделать сначала скрипт исполняемым, то есть, дать ему права на запуск. Что бы сделать скрипт исполняемым существует команда chmod с ключом +x, а что бы удалить права на запуск указывается -x. Затем необходимо указать название скрипта и при необходимости его расположение. Скорее всего расположение скрипта должна быть домашняя директория пользователя, смотрим содержимое директории введя уже знакомую команду:

ls

Так оно и есть, директория Andromeda говорила сама за себя. В этой директории и находится скрипт для запуска ИИ. Переходим в директорию введя соответствующую команду:

cd Andromeda

Снова смотрим содержимое директории, так как необходимо выяснить какие файлы в ней есть:

ls

Отлично! Скрипт для запуска так и называется start.sh. Для начала даем ему права на запуск выполнив команду chmod +x и конечно указав название скрипта. Водим комаду:

chmod +x start.sh

Запускать скрипты в Unix системах можно несколькими способами. Если скрипт имеет расширение .sh, как в нашем случае, то для его запуска указываем точку, затем слеш и название самого скрипта. Водим команду:

./start

Запустив ИИ вы обратившись к нему задав вопрос касательно реактора, как восстановить полноценное питание базы? На что получили ответ, что база сейчас работает на резервном питании по причине того, что нужно вставить плазменный источник энергии в сам генератор. После чего база начнем функционировать на полную мощность. А если попытаться запустить генератор без источника энергии, то можно спровоцировать перегрузку реактора. Во время эвакуации базы все источники плазменной энергии были погружены на одну из спасательных шлюпок, а вот на какую, ИИ дать ответ не смог. Делая выводы из сложившейся ситуации, нужно раздобыть источник плазменной энергии. А так же важно сделать резервную копию ИИ, так как это отличный помощник. Который так же пригодится и на планете когда вернетесь на нее после выполнения задания.

Опять встала дилема, вернуться к каюте капитана и поискать съемный носитель или подключиться по ssh и скопировать на ноутбук ИИ. В случае съемного носителя, его легче переносить и сохранить в безопасности чем ноутбук.























